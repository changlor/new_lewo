<?php
namespace Admin\Controller;
use Think\Controller;
class IndexController extends Controller {
    public function __construct(){
        parent::__construct();
        if ( empty($_SESSION['username']) && ACTION_NAME != 'register') {
            $this->login();
            die();
        }
    }

    /**
     * [后台首页]
     **/
    public function index(){
        $today = date("Y-m-d",time());//今天2016-08-19
        $yesterday = date("Y-m-d",strtotime($today." -1 day"));

        $today_total_money = getTotalMoney($today);//今日总金额：今日新签合同收入的总金额
        $yesterday_total_money = getTotalMoney($yesterday);//昨天总金额：昨天签合同收入的总金额
        $today_sign_count = getSignCount($today);//签约个数：今天签约的个数
        $JD_total_money = getJDMoney($today);//缴定金额：今天缴定金额
        //空房间
        $room_count = getRoomCount();//总房间数量
        $empty_room_count = getEmptyRoomCount();//空房间数量
        $percent_room = $empty_room_count / $room_count;
        $percent_room = $percent_room? ceil($percent_room*100) : 0;
        $this->assign("empty_room_count",$empty_room_count);
        $this->assign("percent_room",$percent_room);
        //空床位
        $bed_count = getBedCount();//总房间数量
        $empty_bed_count = getEmptyBedCount();//空房间数量
        $percent_bed = $empty_bed_count / $bed_count;
        $percent_bed = $percent_bed? ceil($percent_bed*100) : 0;
        $this->assign("empty_bed_count",$empty_bed_count);
        $this->assign("percent_bed",$percent_bed);
        $this->assign("today_total_money",$today_total_money);
        $this->assign("yesterday_total_money",$yesterday_total_money);
        $this->assign("today_sign_count",$today_sign_count);
        $this->assign("JD_total_money",$JD_total_money);
        $this->assign("username",$_SESSION['username']);
    	$this->display("Common/header");
    	$this->display("Common/nav");
    	$this->display("index");
    	$this->display("Common/footer");

    }
    /*
     * [登录]
     */
    public function login(){
    	if ( !empty( $_POST ) ) {
    		$Muser = M('admin_user');
    		$where['username'] = $_POST['username'];
    		$where['password'] = md5($_POST['password']);
    		$result = $Muser->where($where)->find();
    		if ( !is_null($result) ) {
                $_SESSION['username'] = $_POST['username'];
    			$this->success("登录成功",U("Admin/Index/index"),1);
    		} else {
    			$this->error("登录失败");
    		}
    	} else {
    		$this->display("login");
    	}
    }
    /*
     * [注册]
     */
    public function register(){
    	if ( !empty( $_POST ) ) {
    		if ( $_POST['password'] !== $_POST['repassword'] ){
    			die("两次密码不相同");
    		}
    		$Muser = M('admin_user');
    		$data['username'] = $_POST['username'];
    		$data['password'] = md5($_POST['password']);
    		$data['ip'] = get_client_ip();
            $result = $Muser->where(array('username'=>$data['username']))->find();
            if ( empty($result) ) {
                $Muser->add($data);
                $this->success("注册成功",U("Admin/Index/login"));
            } else {
                $this->error("注册失败，帐号已存在");
            }
    	} else {
    		$this->display("register");
    	}
    }
    /*
     * [退出登录]
     */
    public function login_out(){
        session_destroy();
    	$this->success("退出成功",U("Admin/Index/login"));
    }

    /*public function update_room_account(){
        $arr[]=array(18883276883,CQ00015E);
        $arr[]=array(13012377054,CQ00002B);
        $arr[]=array(18716368078,CQ00002A);
        $arr[]=array(18523076349,CQ00003D);
        $arr[]=array(18716408771,CQ00003B);
        $arr[]=array(15025399174,CQ00033C);
        $arr[]=array(15123270181,CQ00029C);
        $arr[]=array(13658336277,CQ00005C);
        $arr[]=array(15210831952,CQ00005A);
        $arr[]=array(18680895686,CQ00006A);
        $arr[]=array(18983061064,CQ00006C);
        $arr[]=array(15223536108,CQ00007E);
        $arr[]=array(17783043005,CQ00007B);
        $arr[]=array(15025466734,CQ00007C);
        $arr[]=array(15025345975,CQ00008B);
        $arr[]=array(18323139838,CQ00010A);
        $arr[]=array(13896646459,CQ00010C);
        $arr[]=array(15736051601,CQ00010D);
        $arr[]=array(13983275257,CQ00011B);
        $arr[]=array(18580424385,CQ00021C);
        $arr[]=array(18523319009,CQ00021D);
        $arr[]=array(15923050836,CQ00011A);
        $arr[]=array(18623056487,CQ00018A);
        $arr[]=array(15086974758,CQ00004A);
        $arr[]=array(18623390464,CQ00028B);
        $arr[]=array(15823263889,CQ00028E);
        $arr[]=array(13047366682,CQ00017C);
        $arr[]=array(18883305763,CQ00031A);
        $arr[]=array(18081744633,CQ00039A);
        $arr[]=array(18896040258,CQ00039D);
        $arr[]=array(15158995991,CQ00004D);
        $arr[]=array(13983924665,CQ00004B);
        $arr[]=array(18680903835,CQ00017D);
        $arr[]=array(15826041167,CQ00028A);
        $arr[]=array(18203075003,CQ00012A);
        $arr[]=array(15111905295,CQ00012E);
        $arr[]=array(15111927362,CQ00016D);
        $arr[]=array(15023302418,CQ00015A);
        $arr[]=array(18850352093,CQ00018B);
        $arr[]=array(13712839447,CQ00018D);
        $arr[]=array(18523942290,CQ00019A);
        $arr[]=array(18523750962,CQ00022B);
        $arr[]=array(18682755025,CQ00024A);
        $arr[]=array(18223332705,CQ00026A);
        $arr[]=array(18623165300,CQ00026D);
        $arr[]=array(18202389535,CQ00027B);
        $arr[]=array(18716627141,CQ00027C);
        $arr[]=array(18682628192,CQ00027D);
        $arr[]=array(13272055845,CQ00029D);
        $arr[]=array(15208219565,CQ00029E);
        $arr[]=array(13996911902,CQ00030A);
        $arr[]=array(18523453554,CQ00030B);
        $arr[]=array(18111656117,CQ00033A);
        $arr[]=array(18168583236,CQ00033B);
        $arr[]=array(13637918633,CQ00036C);
        $arr[]=array(18723647850,CQ00036D);
        $arr[]=array(15823854646,CQ00037B);
        $arr[]=array(17702387556,CQ00037C);
        $arr[]=array(18426414142,CQ00037D);
        $arr[]=array(18227968000,CQ00040B);
        $arr[]=array(18623017111,CQ00041B);
        $arr[]=array(18580861884,CQ00041D);
        $arr[]=array(18716681010,CQ00042B);
        $arr[]=array(17784103344,CQ00042D);
        $arr[]=array(13883951457,CQ00042E);
        $arr[]=array(18723449227,CQ00035A);
        $arr[]=array(15922770416,CQ00035B);
        $arr[]=array(17761287024,CQ00035C);
        $arr[]=array(15985126536,CQ00007A);
        $arr[]=array(18523227580,CQ00013C);
        $arr[]=array(18580521793,CQ00004C);
        $arr[]=array(13883973842,CQ00001C);
        $arr[]=array(15608360060,CQ00018E);
        $arr[]=array(18696723539,CQ00014C);
        $arr[]=array(15823733284,CQ00016B);
        $arr[]=array(13547413483,CQ00043B);
        $arr[]=array(13452357980,CQ00032B);
        $arr[]=array(13026610451,CQ00013A);
        $arr[]=array(18223409878,CQ00032A);
        $arr[]=array(15870471507,CQ00023E);
        $arr[]=array(15870561006,CQ00009A);
        $arr[]=array(18996449016,CQ00038D);
        $arr[]=array(18523207560,ZYJ00001A);
        $arr[]=array(15828573611,ZYJ00001B);
        $arr[]=array(13108188023,ZYJ00008A);
        $arr[]=array(15823486403,ZYJ00008C);
        $arr[]=array(13527374290,ZYJ00009C);
        $arr[]=array(13883380179,ZYJ00013B);
        $arr[]=array(13650513945,ZYJ00013C);
        $arr[]=array(15923393472,ZYJ00014B);
        $arr[]=array(18290406825,ZYJ00014C);
        $arr[]=array(18883187668,ZYJ00017A);
        $arr[]=array(18223598873,ZYJ00017B);
        $arr[]=array(15923369168,ZYJ00017C);
        $arr[]=array(18716670027,ZYJ00018A);
        $arr[]=array(18202312597,ZYJ00019B);
        $arr[]=array(18290282641,ZYJ00021C);
        $arr[]=array(15723070337,ZYJ00023A);
        $arr[]=array(13452712124,ZYJ00023B);
        $arr[]=array(13883274471,ZYJ00023C);
        $arr[]=array(18323612213,ZYJ00024A);
        $arr[]=array(18623668381,ZYJ00024B);
        $arr[]=array(17708356958,ZYJ00024C);
        $arr[]=array(18323362722,ZYJ00025A);
        $arr[]=array(13618333397,ZYJ00025B);
        $arr[]=array(13637793270,ZYJ00025C);
        $arr[]=array(15730830048,ZYJ00027B);
        $arr[]=array(13162333933,ZYJ00028C);
        $arr[]=array(15023776730,ZYJ00030A);
        $arr[]=array(18108166909,ZYJ00030B);
        $arr[]=array(15823040025,ZYJ00030C);
        $arr[]=array(15223461091,ZYJ00031A);
        $arr[]=array(18723589297,ZYJ00031B);
        $arr[]=array(15826170609,ZYJ00031C);
        $arr[]=array(18375985996,ZYJ00032A);
        $arr[]=array(18523551740,ZYJ00027C);
        $arr[]=array(13883365539,ZYJ00033C);
        $arr[]=array(15978998565,ZYJ00035B);
        $arr[]=array(18580265245,ZYJ00036B);
        $arr[]=array(15928792920,ZYJ00037B);
        $arr[]=array(18323012569,ZYJ00037C);
        $arr[]=array(13101111187,ZYJ00038C);
        $arr[]=array(15923397449,ZYJ00039A);
        $arr[]=array(17702371477,ZYJ00039B);
        $arr[]=array(18423103605,ZYJ00039C);
        $arr[]=array(15215127736,ZYJ00040B);
        $arr[]=array(15736027026,ZYJ00040C);
        $arr[]=array(18723406341,ZYJ00041A);
        $arr[]=array(18166454168,ZYJ00041B);
        $arr[]=array(18580060256,ZYJ00041C);
        $arr[]=array(15123043843,ZYJ00043B);
        $arr[]=array(15086916155,ZYJ00043D);
        $arr[]=array(13647621606,ZYJ00044A);
        $arr[]=array(18628252966,ZYJ00044B);
        $arr[]=array(18523971947,ZYJ00044C);
        $arr[]=array(13698120708,ZYJ00045A);
        $arr[]=array(15523358481,ZYJ00046A);
        $arr[]=array(15723257540,ZYJ00046B);
        $arr[]=array(13996485598,ZYJ00047A);
        $arr[]=array(18883207361,ZYJ00047B);
        $arr[]=array(15123955668,ZYJ00047C);
        $arr[]=array(18883338129,ZYJ00048D);
        $arr[]=array(13558963557,ZYJ00049A);
        $arr[]=array(18302325500,ZYJ00049B);
        $arr[]=array(15802390961,ZYJ00051C);
        $arr[]=array(13605945341,ZYJ00053B);
        $arr[]=array(13983582429,ZYJ00053C);
        $arr[]=array(13407154737,ZYJ00054B);
        $arr[]=array(15923887434,ZYJ00054C);
        $arr[]=array(18523832708,ZYJ00056C);
        $arr[]=array(13983724463,ZYJ00059A);
        $arr[]=array(18523181237,ZYJ00059C);
        $arr[]=array(15922510343,ZYJ00060B);
        $arr[]=array(13637878751,ZYJ00061A);
        $arr[]=array(13594176931,ZYJ00061D);
        $arr[]=array(13594053640,ZYJ00062B);
        $arr[]=array(18275406889,ZYJ00062C);
        $arr[]=array(18582601119,ZYJ00062D);
        $arr[]=array(13983737745,ZYJ00064C);
        $arr[]=array(15889894907,ZYJ00065A);
        $arr[]=array(15736282795,ZYJ00065B);
        $arr[]=array(13637883507,ZYJ00066A);
        $arr[]=array(13452585286,ZYJ00066C);
        $arr[]=array(18523875126,ZYJ00067B);
        $arr[]=array(15730865234,ZYJ00067C);
        $arr[]=array(18580748632,ZYJ00068B);
        $arr[]=array(15086637652,ZYJ00068C);
        $arr[]=array(18323378450,ZYJ00069A);
        $arr[]=array(13628323635,ZYJ00069B);
        $arr[]=array(18523854160,ZYJ00069C);
        $arr[]=array(18684799293,ZYJ00070A);
        $arr[]=array(15025324835,ZYJ00070C);
        $arr[]=array(15178785250,ZYJ00071A);
        $arr[]=array(15228857673,ZYJ00071D);
        $arr[]=array(13436168965,ZYJ00072A);
        $arr[]=array(18523585713,ZYJ00072C);
        $arr[]=array(13752997233,ZYJ00073A);
        $arr[]=array(15902399585,ZYJ00073C);
        $arr[]=array(15922703919,ZYJ00074A);
        $arr[]=array(18580447127,ZYJ00075C);
        $arr[]=array(13167888336,ZYJ00076B);
        $arr[]=array(13983736818,ZYJ00076C);
        $arr[]=array(15083517742,ZYJ00077A);
        $arr[]=array(18883863208,ZYJ00077B);
        $arr[]=array(15213123320,ZYJ00078A);
        $arr[]=array(18580495626,ZYJ00078C);
        $arr[]=array(15730156463,ZYJ00079A);
        $arr[]=array(18523667006,ZYJ00079B);
        $arr[]=array(13206060680,ZYJ00079C);
        $arr[]=array(18623052691,ZYJ00080A);
        $arr[]=array(13917646006,ZYJ00080B);
        $arr[]=array(18502383134,ZYJ00082A);
        $arr[]=array(15922662538,ZYJ00082B);
        $arr[]=array(18306059599,ZYJ00084A);
        $arr[]=array(15682555525,ZYJ00084B);
        $arr[]=array(13647642192,ZYJ00084C);
        $arr[]=array(13609094510,ZYJ00085A);
        $arr[]=array(13983715975,ZYJ00085B);
        $arr[]=array(18225249933,ZYJ00086D);
        $arr[]=array(15923233024,ZYJ00087A);
        $arr[]=array(18983121969,ZYJ00087B);
        $arr[]=array(15683782773,ZYJ00088A);
        $arr[]=array(18623408642,ZYJ00088B);
        $arr[]=array(18910485309,ZYJ00088C);
        $arr[]=array(18423022478,ZYJ00089A);
        $arr[]=array(18523128188,ZYJ00089D);
        $arr[]=array(18723418005,ZYJ00090A);
        $arr[]=array(18523510079,ZYJ00090B);
        $arr[]=array(15023829700,ZYJ00090C);
        $arr[]=array(18681364178,ZYJ00091A);
        $arr[]=array(15683070024,ZYJ00091B);
        $arr[]=array(15730078075,ZYJ00091C);
        $arr[]=array(18323009787,ZYJ00092A);
        $arr[]=array(15198179234,ZYJ00092C);
        $arr[]=array(18323165961,ZYJ00093B);
        $arr[]=array(18223557538,ZYJ00094A);
        $arr[]=array(15823394462,ZYJ00095B);
        $arr[]=array(18845294838,ZYJ00096D);
        $arr[]=array(18725692589,ZYJ00098B);
        $arr[]=array(15730000073,ZYJ00098C);
        $arr[]=array(15825911419,ZYJ00099A);
        $arr[]=array(15723033749,ZYJ00099C);
        $arr[]=array(15213324236,ZYJ00100A);
        $arr[]=array(18623116068,ZYJ00100D);
        $arr[]=array(15696212365,ZYJ00101A);
        $arr[]=array(15223310120,ZYJ00101C);
        $arr[]=array(18382075121,ZYJ00103A);
        $arr[]=array(18426454103,ZYJ00103C);
        $arr[]=array(18623517687,ZYJ00104A);
        $arr[]=array(13668024741,ZYJ00104B);
        $arr[]=array(18426437044,ZYJ00104C);
        $arr[]=array(18223141411,ZYJ00107B);
        $arr[]=array(18203042742,ZYJ00108C);
        $arr[]=array(15178705127,ZYJ00109B);
        $arr[]=array(18323960722,ZYJ00109C);
        $arr[]=array(18725608602,ZYJ00109D);
        $arr[]=array(13658315453,ZYJ00110C);
        $arr[]=array(15213625757,ZYJ00111C);
        $arr[]=array(13100701257,ZYJ00112A);
        $arr[]=array(15178878166,ZYJ00112C);
        $arr[]=array(15683980760,ZYJ00113B);
        $arr[]=array(15178879540,ZYJ00113C);
        $arr[]=array(15825914085,ZYJ00114B);
        $arr[]=array(15213076844,ZYJ00116A);
        $arr[]=array(15213297958,ZYJ00116D);
        $arr[]=array(15023222561,ZYJ00117A);
        $arr[]=array(13436283292,ZYJ00117B);
        $arr[]=array(15803022903,ZYJ00117C);
        $arr[]=array(13627660082,ZYJ00118C);
        $arr[]=array(18883279889,ZYJ00119A);
        $arr[]=array(13883613696,ZYJ00119B);
        $arr[]=array(18580732489,ZYJ00032B);
        $arr[]=array(13205122604,ZYJ00013A);
        $arr[]=array(18716230652,CQ00015C);
        $arr[]=array(18283089985,CQ00021A);
        $arr[]=array(15829395689,CQ00009B);
        $arr[]=array(15223778088,ZYJ00028A);
        $arr[]=array(13713238991,CQ00031C);
        $arr[]=array(18580841005,CQ00002D);
        $arr[]=array(15086665947,CQ00036A);
        $arr[]=array(15213129153,CQ00044D);
        $arr[]=array(17720377259,CQ00019D);
        $arr[]=array(13617667565,ZYJ00075B);
        $arr[]=array(13383208167,ZYJ00115A);
        $arr[]=array(15922966773,CQ00019E);
        $arr[]=array(18723064008,CQ00040E);
        $arr[]=array(18184479963,CQ00005D);
        $arr[]=array(13206181118,CQ00014B);
        $arr[]=array(13551497044,CQ00012B);
        $arr[]=array(18475685685,CQ00044E);
        $arr[]=array(18583938377,CQ00046E);
        $arr[]=array(13518135322,CQ00045D);
        $arr[]=array(13527395758,CQ00046B);
        $arr[]=array(18375648718,ZYJ00019C);
        $arr[]=array(13580859395,ZYJ00021A);
        $arr[]=array(18223275798,ZYJ00021B);
        $arr[]=array(15998921941,ZYJ00026A);
        $arr[]=array(15123344254,ZYJ00026B);
        $arr[]=array(15310486537,ZYJ00026C);
        $arr[]=array(18725997649,ZYJ00029C);
        $arr[]=array(18323041675,ZYJ00058D);
        $arr[]=array(15823111062,ZYJ00076A);
        $arr[]=array(18580129266,ZYJ00085C);
        $arr[]=array(18580161624,ZYJ00093C);
        $arr[]=array(13626913736,ZYJ00097C);
        $arr[]=array(13627641764,ZYJ00110A);
        $arr[]=array(15803017191,ZYJ00111B);
        $arr[]=array(13368604138,ZYJ00113A);
        $arr[]=array(18290224247,ZYJ00115B);
        $arr[]=array(15730147530,ZYJ00115C);
        $arr[]=array(18609786338,CQ00034D);
        $arr[]=array(15182342922,CQ00048D);
        $arr[]=array(18728423104,CQ00024B);
        $arr[]=array(13016494273,ZYJ00111A);
        $arr[]=array(13290020492,ZYJ00110B);
        $arr[]=array(15730451752,ZYJ00036D);
        $arr[]=array(18033405070,ZYJ00108A);
        $arr[]=array(15608347009,ZYJ00059B);
        $arr[]=array(13436293696,ZYJ00086A);
        $arr[]=array(15683417097,ZYJ00086B);
        $arr[]=array(18859936128,ZYJ00087C);
        $arr[]=array(15703069962,ZYJ00094C);
        $arr[]=array(18523461618,ZYJ00096A);
        $arr[]=array(15922865496,ZYJ00097A);
        $arr[]=array(18983760316,ZYJ00053F);
        $arr[]=array(18203043379,ZYJ00103B);
        $arr[]=array(15683404718,CQ00028F);
        $arr[]=array(13752878724,CQ00017F);
        $arr[]=array(18580930257,CQ00046A);
        $arr[]=array(18723447553,ZYJ00118A);
        $arr[]=array(18716669040,CQ00020E);
        $arr[]=array(18883279747,ZYJ00081C);
        $arr[]=array(15095931879,ZYJ00081A);
        $arr[]=array(18323870829,ZYJ00092B);
        $arr[]=array(18523095632,ZYJ00060A);
        $arr[]=array(15099667117,CQ00024C);
        $arr[]=array(15730286500,ZYJ00114C);
        $arr[]=array(18581205158,CQ00022D);
        $arr[]=array(13330321532,ZYJ00053A);
        $arr[]=array(13527541980,ZYJ00002C);
        $arr[]=array(15870460360,CQ00008C);
        $arr[]=array(18875252935,ZYJ00046C);
        $arr[]=array(18896048470,CQ00039C);
        $arr[]=array(18623325497,CQ00008D);
        $arr[]=array(18523608466,CQ00031B);
        $arr[]=array(18883766147,CQ00020C);
        $arr[]=array(18102386311,CQ00045E);
        $arr[]=array(18875137630,ZYJ00031C);
        $arr[]=array(15023117940,ZYJ00033B);
        $arr[]=array(18996048226,ZYJ00095C);
        $arr[]=array(18883339810,ZYJ00073B);
        $arr[]=array(15223120315,CQ00041A);
        $arr[]=array(18696556601,CQ00028D);
        $arr[]=array(18223274820,CQ00007F);
        $arr[]=array(13452771662,CQ00037A);
        $arr[]=array(18980319869,CQ00027A);
        $arr[]=array(15095986240,ZYJ00018C);
        $arr[]=array(13677683458,CQ00043C);
        $arr[]=array(18323803682,ZYJ00056A);
        $arr[]=array(13452120043,CQ00014A);
        $arr[]=array(13896003527,ZYJ00072B);
        $arr[]=array(15178747131,ZYJ00116B);
        $arr[]=array(18883775327,ZYJ00102C);
        $arr[]=array(18883339934,CQ00015B);
        $arr[]=array(13880773775,CQ00043A);
        $arr[]=array(15213143603,ZYJ00035A);
        $arr[]=array(17723956250,CQ00023D);
        $arr[]=array(15922568677,CQ00035E);
        $arr[]=array(15723151527,ZYJ00042B);
        $arr[]=array(15730409593,CQ00034E);
        $arr[]=array(15023372512,CQ00009D);
        $arr[]=array(18723994040,CQ00003C);
        $arr[]=array(15823161569,ZYJ00032C);
        $arr[]=array(15723103097,ZYJ00102A);
        $arr[]=array(18323455578,ZYJ00102B);
        $arr[]=array(15696147164,CQ00023B);
        $arr[]=array(13896015357,ZYJ00035C);
        $arr[]=array(15213407861,ZYJ00113D);
        $arr[]=array(18716338269,ZYJ00119C);
        $arr[]=array(18883930241,CQ00024D);
        $arr[]=array(13974280192,CQ00017E);
        $arr[]=array(18680730361,CQ00023C);
        $arr[]=array(13993570256,CQ00023A);
        $arr[]=array(18883930501,CQ00012F);
        $arr[]=array(13677620634,ZYJ00108B);
        $arr[]=array(18325234748,CQ00012C);
        $arr[]=array(18302350115,ZYJ00042C);
        $arr[]=array(15123352750,CQ00025A);
        $arr[]=array(18375624450,CQ00040A);
        $arr[]=array(18081370755,CQ00048C);
        $arr[]=array(18723379312,CQ00036B);
        $arr[]=array(18883283340,CQ00020A);
        $arr[]=array(18875056585,CQ00007D);
        $arr[]=array(13754521080,CQ00040C);
        $arr[]=array(18883359241,CQ00024E);
        $arr[]=array(13108933880,CQ00045F);
        $arr[]=array(18611382888,CQ00032C);
        $arr[]=array(15275972985,ZYJ00086C);
        $arr[]=array(15310679644,CQ00028C);
        $arr[]=array(13790071133,CQ00029B);
        $arr[]=array(13752923314,CQ00044C);
        $arr[]=array(18875023686,ZYJ00009A);
        $arr[]=array(18580652428,ZYJ00077C);
        $arr[]=array(13647679514,CQ00018C);
        $arr[]=array(15023144074,ZYJ00100C);
        $arr[]=array(18290301192,ZYJ00037A);
        $arr[]=array(15102387772,CQ00039B);
        $arr[]=array(18281308481,ZYJ00009B);
        $arr[]=array(13290036414,CQ00045C);
        $arr[]=array(15923932764,CQ00006D);
        $arr[]=array(13638344739,ZYJ00049C);
        $arr[]=array(18716329439,ZYJ00089C);
        $arr[]=array(15730411629,ZYJ00043C);
        $arr[]=array(15002351938,CQ00045A);
        $arr[]=array(18875013894,CQ00030C);
        $arr[]=array(18696740243,CQ00048A);
        $arr[]=array(18896037087,CQ00046D);
        $arr[]=array(18283056176,CQ00047B);
        $arr[]=array(15823088952,ZYJ00075A);
        $arr[]=array(18996168440,ZYJ00097B);
        $arr[]=array(18875125893,CQ00025B);
        $arr[]=array(18883368648,CQ00025C);
        $arr[]=array(18883556562,ZYJ00060C);
        $arr[]=array(18983225639,ZYJ00066B);
        $arr[]=array(15608358858,CQ00006F);
        $arr[]=array(15808125474,CQ00001A);
        $arr[]=array(18875076549,CQ00019C);
        $arr[]=array(18875096017,ZYJ00052B);
        $arr[]=array(13618365094,ZYJ00038B);
        $arr[]=array(18883320102,ZYJ00096B);
        $arr[]=array(18875010594,ZYJ00096C);
        $arr[]=array(18723881511,CQ00002C);
        $arr[]=array(18883349574,ZYJ00019A);
        $arr[]=array(13708378130,CQ00026C);
        $arr[]=array(13267188851,ZYJ00051B);
        $arr[]=array(13222100232,ZYJ00062A);
        $arr[]=array(18682400314,CQ00020D);
        $arr[]=array(18716893071,CQ00038A);
        $arr[]=array(18623100187,ZYJ00065C);
        $arr[]=array(13101027950,ZYJ00008D);
        $arr[]=array(13101050929,CQ00025E);
        $arr[]=array(15823891844,CQ00005B);
        $arr[]=array(13594530929,CQ00003E);
        $arr[]=array(15520144189,CQ00038B);
        $arr[]=array(15123625249,ZYJ00070B);
        $arr[]=array(18502862436,ZYJ00095A);
        $arr[]=array(13628300744,ZYJ00114A);
        $arr[]=array(15923316757,ZYJ00008E);
        $arr[]=array(18584635195,CQ00044A);
        $arr[]=array(15823253468,CQ00022A);
        $arr[]=array(13399877832,ZYJ00033A);
        $arr[]=array(13983071264,ZYJ00061B);
        $arr[]=array(18716574173,ZYJ00008B);
        $arr[]=array(18875057221,CQ00040D);
        $arr[]=array(15223299609,CQ00033D);
        $arr[]=array(13683837003,ZYJ00074C);
        $arr[]=array(18581487637,CQ00011C);
        $arr[]=array(18696967428,ZYJ00116C);
        $arr[]=array(15086945931,ZYJ00053E);
        $arr[]=array(15703050745,CQ00034A);
        $arr[]=array(18184000089,ZYJ00067A);
        $arr[]=array(18716653194,ZYJ00080C);
        $arr[]=array(13650515165,CQ00044B);
        $arr[]=array(15848332012,CQ00045B);
        $arr[]=array(15825908169,CQ00016A);
        $arr[]=array(15520076869,CQ00010B);
        $arr[]=array(18375773273,CQ00029A);
        $arr[]=array(18716702611,ZYJ00081B);
        $arr[]=array(17783690525,CQ00008A);
        $arr[]=array(18282061859,ZYJ00036A);
        $arr[]=array(18716447288,CQ00025D);
        $arr[]=array(13527461415,CQ00028G);
        $arr[]=array(15025413209,CQ00001B);
        $arr[]=array(13072393392,ZYJ00052C);
        $arr[]=array(13738258792,ZYJ00052A);
        $arr[]=array(18523862988,ZYJ00042A);
        $arr[]=array(15023258261,ZYJ00096E);
        $arr[]=array(18716337227,CQ00038C);
        $arr[]=array(13436106613,ZYJ00083C);
        $arr[]=array(13635387570,ZYJ00018B);
        $arr[]=array(18640121995,ZYJ00101B);
        $arr[]=array(18225226048,CQ00014D);
        $arr[]=array(13883006615,CQ00035D);
        $arr[]=array(18623576676,ZYJ00083A);
        $arr[]=array(13881414268,CQ00022E);
        $arr[]=array(15825930210,ZYJ00094B);
        $arr[]=array(18581141320,ZYJ00028B);
        $arr[]=array(13436008061,ZYJ00093A);
        $arr[]=array(15123273393,CQ00042C);
        $arr[]=array(18811581503,CQ00006B);
        $arr[]=array(15826191550,ZYJ00078B);
        $arr[]=array(13977177002,ZYJ00001C);
        $arr[]=array(13594381525,ZYJ00048A);
        $arr[]=array(15223822684,ZYJ00038A);
        $arr[]=array(17725099379,CQ00009C);
        $arr[]=array(15213729353,CQ00034B);
        $arr[]=array(18883328568,CQ00015D);
        $arr[]=array(15220135440,ZYJ00045C);
        $arr[]=array(18323398472,CQ00034C);
        $arr[]=array(18883278063,CQ00031D);
        $arr[]=array(18423446817,ZYJ00058A);
        $arr[]=array(15111861112,ZYJ00029B);
        $arr[]=array(15002361488,CQ00048B);
        $arr[]=array(13883621134,ZYJ00045B);
        $arr[]=array(13883833501,CQ00001D);
        $MAccount = M("account");
        $MRoom = M("room");
        foreach ($arr AS $key=>$val) {
           $account_id = $MAccount->where(array("mobile"=>$val['0']))->getField("id");
           $account_id = !empty($account_id)? $account_id : 0;
           $room_info = $MRoom->where(array("room_code"=>$val['1']))->save(array("account_id"=>$account_id));

        }
    }

    public function update_house_steward(){
        $arr[] = array(18166342735,CQ00001);
        $arr[] = array(18166342735,CQ00002);
        $arr[] = array(18166342735,CQ00003);
        $arr[] = array(18166342735,CQ00004);
        $arr[] = array(18166342735,CQ00005);
        $arr[] = array(18166342735,CQ00006);
        $arr[] = array(18166342735,CQ00007);
        $arr[] = array(18166342735,CQ00008);
        $arr[] = array(18166342735,CQ00009);
        $arr[] = array(18166342735,CQ00010);
        $arr[] = array(18166342735,CQ00011);
        $arr[] = array(18166342735,CQ00012);
        $arr[] = array(18166342735,CQ00013);
        $arr[] = array(18166342735,CQ00014);
        $arr[] = array(18166342735,CQ00015);
        $arr[] = array(18166342735,CQ00016);
        $arr[] = array(18166342735,CQ00028);
        $arr[] = array(18166342735,CQ00017);
        $arr[] = array(18166342735,CQ00018);
        $arr[] = array(18166342735,CQ00019);
        $arr[] = array(18166342735,CQ00020);
        $arr[] = array(18166342735,CQ00021);
        $arr[] = array(18166342735,CQ00022);
        $arr[] = array(18166342735,CQ00023);
        $arr[] = array(18166342735,CQ00024);
        $arr[] = array(18166342735,CQ00025);
        $arr[] = array(18166342735,CQ00026);
        $arr[] = array(18166342735,CQ00027);
        $arr[] = array(18166342735,CQ00029);
        $arr[] = array(18166342735,CQ00030);
        $arr[] = array(18166342735,CQ00031);
        $arr[] = array(18166342735,CQ00032);
        $arr[] = array(18166342735,CQ00033);
        $arr[] = array(18166342735,CQ00034);
        $arr[] = array(18166342735,CQ00035);
        $arr[] = array(18166342735,CQ00036);
        $arr[] = array(18166342735,CQ00037);
        $arr[] = array(18166342735,CQ00038);
        $arr[] = array(18166342735,CQ00039);
        $arr[] = array(18166342735,CQ00040);
        $arr[] = array(18166342735,CQ00041);
        $arr[] = array(18166342735,CQ00042);
        $arr[] = array(18166342735,CQ00043);
        $arr[] = array(18166342735,CQ00044);
        $arr[] = array(18166342735,CQ00045);
        $arr[] = array(18166342735,CQ00046);
        $arr[] = array(18166342735,ZYJ00001);
        $arr[] = array(18166342735,ZYJ00002);
        $arr[] = array(18166342735,ZYJ00008);
        $arr[] = array(18166342735,ZYJ00009);
        $arr[] = array(18166342735,ZYJ00013);
        $arr[] = array(18166342735,ZYJ00014);
        $arr[] = array(18166342735,ZYJ00017);
        $arr[] = array(18166342735,ZYJ00018);
        $arr[] = array(18166342735,ZYJ00019);
        $arr[] = array(18166342735,ZYJ00021);
        $arr[] = array(18166342735,ZYJ00023);
        $arr[] = array(18166342735,ZYJ00024);
        $arr[] = array(18166342735,ZYJ00025);
        $arr[] = array(18166342735,ZYJ00027);
        $arr[] = array(18166342735,ZYJ00028);
        $arr[] = array(18166342735,ZYJ00029);
        $arr[] = array(18166342735,ZYJ00030);
        $arr[] = array(18166342735,ZYJ00031);
        $arr[] = array(18166342735,ZYJ00032);
        $arr[] = array(18166342735,ZYJ00033);
        $arr[] = array(18166342735,ZYJ00035);
        $arr[] = array(18166342735,ZYJ00036);
        $arr[] = array(18166342735,ZYJ00037);
        $arr[] = array(18166342735,ZYJ00038);
        $arr[] = array(18166342735,ZYJ00039);
        $arr[] = array(18166342735,ZYJ00040);
        $arr[] = array(18166342735,ZYJ00041);
        $arr[] = array(18166342735,ZYJ00042);
        $arr[] = array(18166342735,ZYJ00043);
        $arr[] = array(18166342735,ZYJ00044);
        $arr[] = array(18166342735,ZYJ00045);
        $arr[] = array(18166342735,ZYJ00046);
        $arr[] = array(18166342735,ZYJ00047);
        $arr[] = array(18166342735,ZYJ00048);
        $arr[] = array(18166342735,ZYJ00049);
        $arr[] = array(18166342735,ZYJ00051);
        $arr[] = array(18166342735,ZYJ00052);
        $arr[] = array(18166342735,ZYJ00053);
        $arr[] = array(18166342735,ZYJ00054);
        $arr[] = array(18166342735,ZYJ00056);
        $arr[] = array(18166342735,ZYJ00058);
        $arr[] = array(18166342735,ZYJ00059);
        $arr[] = array(18166342735,ZYJ00060);
        $arr[] = array(18166342735,ZYJ00061);
        $arr[] = array(18166342735,ZYJ00062);
        $arr[] = array(18166342735,ZYJ00064);
        $arr[] = array(18166342735,ZYJ00065);
        $arr[] = array(18166342735,ZYJ00066);
        $arr[] = array(18166342735,ZYJ00067);
        $arr[] = array(18166342735,ZYJ00068);
        $arr[] = array(18166342735,ZYJ00069);
        $arr[] = array(18166342735,ZYJ00070);
        $arr[] = array(18166342735,ZYJ00071);
        $arr[] = array(18166342735,ZYJ00072);
        $arr[] = array(18166342735,ZYJ00073);
        $arr[] = array(18166342735,ZYJ00074);
        $arr[] = array(18166342735,ZYJ00075);
        $arr[] = array(18166342735,ZYJ00076);
        $arr[] = array(18166342735,ZYJ00077);
        $arr[] = array(18166342735,ZYJ00078);
        $arr[] = array(18166342735,ZYJ00079);
        $arr[] = array(18166342735,ZYJ00080);
        $arr[] = array(18166342735,ZYJ00081);
        $arr[] = array(18166342735,ZYJ00082);
        $arr[] = array(18166342735,ZYJ00083);
        $arr[] = array(18166342735,ZYJ00084);
        $arr[] = array(18166342735,ZYJ00085);
        $arr[] = array(18166342735,ZYJ00086);
        $arr[] = array(18166342735,ZYJ00087);
        $arr[] = array(18166342735,ZYJ00088);
        $arr[] = array(18166342735,ZYJ00089);
        $arr[] = array(18166342735,ZYJ00090);
        $arr[] = array(18166342735,ZYJ00091);
        $arr[] = array(18166342735,ZYJ00092);
        $arr[] = array(18166342735,ZYJ00093);
        $arr[] = array(18166342735,ZYJ00094);
        $arr[] = array(18166342735,ZYJ00095);
        $arr[] = array(18166342735,ZYJ00096);
        $arr[] = array(18166342735,ZYJ00097);
        $arr[] = array(18166342735,ZYJ00098);
        $arr[] = array(18166342735,ZYJ00099);
        $arr[] = array(18166342735,ZYJ00100);
        $arr[] = array(18166342735,ZYJ00101);
        $arr[] = array(18166342735,ZYJ00102);
        $arr[] = array(18166342735,ZYJ00103);
        $arr[] = array(18166342735,ZYJ00104);
        $arr[] = array(18166342735,ZYJ00107);
        $arr[] = array(18166342735,ZYJ00108);
        $arr[] = array(18166342735,ZYJ00109);
        $arr[] = array(18166342735,ZYJ00110);
        $arr[] = array(18166342735,ZYJ00111);
        $arr[] = array(18166342735,ZYJ00112);
        $arr[] = array(18166342735,ZYJ00113);
        $arr[] = array(18166342735,ZYJ00114);
        $arr[] = array(18166342735,ZYJ00115);
        $arr[] = array(18166342735,ZYJ00116);
        $arr[] = array(18166342735,ZYJ00117);
        $arr[] = array(18166342735,ZYJ00118);
        $arr[] = array(18166342735,ZYJ00119);
        $arr[] = array(18166342735,CQ00047);
        $arr[] = array(18166342735,CQ00048);
        $arr[] = array(18166342735,ZYJ00026);
        $MAdmin = M("admin_user");
        $MHouse = M("houses");
        foreach ( $arr AS $key=>$val ) {
            $steward_id = $MAdmin->where(array("username"=>$val['0']))->getField("id");
            $MHouse->where(array("house_code"=>$val['1']))->save(array("steward_id"=>$steward_id));
        }
    }*/
}